#include <Arduino.h>

void activate()
{
    interrupts();
    attachInterrupt(digitalPintoInterrupt(3),PS_ISR,CHANGE); // Lav en interrupt hver gang der sker en ændring ved pin 3
}

ISR (PS_ISR)
{
  int PS = digitalRead(3); // Aflæs hvad der står ved pin 3

  Serial.write(PS); // Udskriv hvad der står ved pin 3
}

ISR (USART0_RX_vect) // 256 mulig inputs fra 1 byte.
{

 if (Serial.available() > 0) // Tjek for indkommende seriel data
  {
    char inChar = Serial.read(); // Læs indkommende seriel data
    
    switch(inChar) // here skal alle ændringerne baseret på UART ske. aka global variables, etc...
    case 1 :

    break;
    
    default:
    
    break;
  }

}